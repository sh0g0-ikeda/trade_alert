## 1. プロダクト概要

### 1.1 サービス名（仮）

* 日本語名（仮）：**マルチアラート**
* 英語名（仮）：**Multi Alert**

※リリース前に正式名称・ストア表示名を確定する。
※ドメイン・ストア検索性を考慮して、英語名はできるだけシンプルな2語構成にする。

---

### 1.2 提供形態 / 対応プラットフォーム

* 提供形態：

  * iOS / Android 向けのネイティブアプリ（クロスプラットフォームフレームワーク想定）
  * バックエンド API + バッチ処理はAWS上に構築
* 対応OS（初期想定）：

  * iOS：iOS 15 以降
  * Android：Android 10 以降
* 端末要件：

  * 常時ネット接続を前提としつつ、数時間のオフラインは許容（その間は価格更新・通知なし）
  * プッシュ通知を受け取れる環境（OSレベルで通知OFFの場合はアプリ内で警告表示）

---

### 1.3 提供する機能レイヤー（役割の切り分け）

このプロダクトが担うのは、**「価格監視とアラート」レイヤーのみ**とする。

* やること：

  * ユーザーが監視したい銘柄を登録できる（株・仮想通貨・FX・コモディティ・指数）
  * 定期的に価格APIを叩いて最新価格を取得
  * ユーザーが設定した条件をもとに**価格変動を検知してプッシュ通知**
  * 通知をタップすると、アプリ内でその銘柄の現在値と変動率だけ簡易表示
* やらないこと（MVPのスコープ外）：

  * 詳細チャート表示（ローソク足・テクニカル指標など）
  * ニュースフィードやアナリストレポートの提供
  * 実際の注文（売買）の実行
  * 証券口座・取引所との公式連携（OAuthで残高取得など）

> 方針：
> 「ユーザーに気づかせるところまで」をこのアプリが担当し、
> 「売買の判断・実行」は各証券アプリ・取引所アプリに任せる。

---

### 1.4 利用シナリオ（代表的なフロー）

#### 1.4.1 初回利用〜オンボーディング

1. アプリをインストールして起動
2. 簡単な紹介スライド（2〜3枚）でアプリの役割を説明

   * 「複数の資産を1つのアプリで監視します」
   * 「大きく動いたときだけ通知します」
3. ユーザー登録

   * メール + パスワードでアカウント作成
   * （任意）後で Apple / Google ログインを追加予定
4. プッシュ通知の許可ダイアログ

   * 「許可しない」を選んだ場合は、アプリ内の上部に常に警告バナーを表示

#### 1.4.2 銘柄の登録

1. ホーム画面の「銘柄を追加」ボタンをタップ
2. 資産クラスを選択（株 / 仮想通貨 / FX / 金 / 指数）
3. ティッカー or 名称を入力 → サジェスト一覧から選択
4. 現在価格をAPIから取得し、「基準価格」として自動入力
5. 必要に応じて、基準価格を自分の取得単価に書き換え
6. 保存 → ホームの銘柄リストに追加表示

#### 1.4.3 アラートを受け取る

1. バックエンドのバッチが定期的に価格APIを叩き、最新価格を取得
2. 各ユーザーの「基準価格 / 前回通知価格」と比較して、変動率がしきい値を超えたか判定
3. 条件を満たした銘柄について、APNs / FCM 経由でプッシュ通知
4. ユーザーが通知をタップすると、アプリ内の銘柄詳細画面を表示

   * 現在価格
   * 変動率
   * 基準価格 or 前回通知価格
   * 最後に通知した日時

#### 1.4.4 放置運用

* ユーザーは日常的にアプリを開かなくてもよい

  * 銘柄リスト・条件をセットしたら、**基本は放置運用**を想定
* アラートをきっかけに、

  * 証券アプリを開いて売買注文
  * もしくは何もしない判断
    を行う。

---

### 1.5 プロダクトのスコープ / 非スコープ（実装観点）

#### 1.5.1 スコープ（実装するもの）

* モバイルアプリ：

  * ユーザー登録・ログイン画面
  * 銘柄一覧表示（登録済みの銘柄 + 現在値 + 変動率）
  * 銘柄検索・登録画面
  * 基準価格・アラート条件の設定画面
  * 通知履歴画面（直近のアラート一覧）
* バックエンド：

  * 認証API（メール + パスワード）
  * 銘柄マスタ取得API（資産クラス・ティッカー検索）
  * ユーザーごとの銘柄設定API
  * 価格取得バッチ（ユニーク銘柄単位でのAPIコール）
  * アラート判定処理
  * プッシュ通知の送信キュー処理
  * サブスクプランの検証API（ストアレシート検証）

#### 1.5.2 非スコープ（MVPではやらない）

* Webブラウザ版（PCからのアクセス）
* 管理者用コンソール（最初は不要。APIログはクラウド側コンソールで見る）
* 高度な分析機能（PF全体のリスク分析、シャープレシオ等）
* ソーシャル機能（他人のPF共有、ランキングなど）

---

### 1.6 成功指標（ざっくりKPIの方向性）

実装方針をブレさせないため、「このアプリがちゃんと役に立っているか」を測る軸だけ決めておく。

* 最低限のKPIイメージ：

  * 1ユーザーあたり登録銘柄数：平均 3〜10 銘柄
  * 月あたりの通知受信数（アクティブユーザー）：1人あたり数件〜十数件
  * 通知タップ率：30%以上を目安
  * 有料プランへの転換率：無料ユーザーの数％〜10％を目標

KPI自体の数字はあとで変えてもいいが、
「値動きをちゃんと拾えていて、その通知がタップされているか」を主要指標として設計する。

